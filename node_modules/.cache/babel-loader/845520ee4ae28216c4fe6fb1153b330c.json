{"ast":null,"code":"var _jsxFileName = \"/Users/avehghasemian/Desktop/calculator/React-Macbook-Calculator/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Digit from \"./components/Digit\";\nimport MainHeader from \"./components/MainHeader\";\nimport UpperOperator from \"./components/UpperOperator\";\nimport Operators from \"./components/Operators\";\nimport Equal from \"./components/Equal\";\nimport TotalDisplay from \"./components/TotalDisplay\";\nimport styles from \"./App.module.css\";\nimport calculate from \"./components/logic/calculate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const initialObj = {\n    total: null,\n    next: null,\n    operation: null\n  };\n  const [state, setState] = useState(initialObj);\n  const [error, setError] = useState({\n    status: false\n  });\n\n  const updateState = newState => setState(actualState => ({ ...actualState,\n    ...newState\n  }));\n\n  const errorHandler = () => {\n    setError({\n      status: true\n    });\n    setState({\n      total: \"Invalid operation: Can't Divide by Zero\",\n      next: null,\n      operation: null\n    });\n  };\n\n  useEffect(() => {\n    if (\"savedInput\" in error) {\n      setError({\n        status: false\n      });\n      const output = calculate(state, error.savedInput);\n      updateState(output);\n    }\n  }, [error]);\n\n  const handleClick = buttonName => {\n    if (error.status) {\n      setError({\n        savedInput: buttonName\n      });\n      setState(initialObj);\n      return;\n    }\n\n    let output;\n\n    try {\n      output = calculate(state, buttonName);\n    } catch (err) {\n      errorHandler();\n    }\n\n    updateState(output);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"calculator-wrapper\"],\n      children: [/*#__PURE__*/_jsxDEV(MainHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: styles.componentWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"claculator-components\"],\n          children: [/*#__PURE__*/_jsxDEV(TotalDisplay, {\n            handleClick: handleClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UpperOperator, {\n            handleClick: handleClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Digit, {\n            handleClick: handleClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Operators, {\n            handleClick: handleClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Equal, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(App, \"MXOkj4b4JefNpLq8313ZYnXXCzk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/avehghasemian/Desktop/calculator/React-Macbook-Calculator/src/App.js"],"names":["React","useState","useEffect","Digit","MainHeader","UpperOperator","Operators","Equal","TotalDisplay","styles","calculate","App","initialObj","total","next","operation","state","setState","error","setError","status","updateState","newState","actualState","errorHandler","output","savedInput","handleClick","buttonName","err","componentWrapper"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport Digit from \"./components/Digit\";\nimport MainHeader from \"./components/MainHeader\";\nimport UpperOperator from \"./components/UpperOperator\";\nimport Operators from \"./components/Operators\";\nimport Equal from \"./components/Equal\";\nimport TotalDisplay from \"./components/TotalDisplay\";\nimport styles from \"./App.module.css\";\nimport calculate from \"./components/logic/calculate\";\n\nconst App = () => {\n  const initialObj = { total: null, next: null, operation: null };\n  const [state, setState] = useState(initialObj);\n  const [error, setError] = useState({ status: false });\n\n  const updateState = (newState) =>\n    setState((actualState) => ({ ...actualState, ...newState }));\n\n  const errorHandler = () => {\n    setError({ status: true });\n    setState({\n      total: \"Invalid operation: Can't Divide by Zero\",\n      next: null,\n      operation: null,\n    });\n  };\n\n  useEffect(() => {\n    if (\"savedInput\" in error) {\n      setError({ status: false });\n\n      const output = calculate(state, error.savedInput);\n      updateState(output);\n    }\n  }, [error]);\n\n  const handleClick = (buttonName) => {\n    if (error.status) {\n      setError({ savedInput: buttonName });\n      setState(initialObj);\n      return;\n    }\n\n    let output;\n    try {\n      output = calculate(state, buttonName);\n    } catch (err) {\n      errorHandler();\n    }\n    updateState(output);\n  };\n\n  return (\n    <>\n      <div className={styles[\"calculator-wrapper\"]}>\n        <MainHeader />\n        <article className={styles.componentWrapper}>\n          <div className={styles[\"claculator-components\"]}>\n            <TotalDisplay handleClick={handleClick} />\n            <UpperOperator handleClick={handleClick} />\n            <Digit handleClick={handleClick} />\n            <Operators handleClick={handleClick} />\n            <Equal />\n          </div>\n        </article>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}